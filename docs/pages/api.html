<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - VectorReVamp Documentation</title>
    <meta name="description" content="VectorReVamp API reference and usage examples">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/prism.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .api-section {
            margin-bottom: 3rem;
        }

        .api-class, .api-function, .api-method {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-sm);
        }

        .api-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .api-icon {
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .api-signature {
            background: var(--bg-alt);
            padding: 1rem;
            border-radius: var(--radius-md);
            margin: 1rem 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            border-left: 4px solid var(--primary-color);
        }

        .api-params, .api-returns, .api-example {
            margin: 1.5rem 0;
        }

        .api-params h4, .api-returns h4, .api-example h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .param-list {
            list-style: none;
            padding: 0;
        }

        .param-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .param-item:last-child {
            border-bottom: none;
        }

        .param-name {
            font-weight: 600;
            color: var(--text-color);
        }

        .param-type {
            color: var(--primary-color);
            font-family: monospace;
            font-size: 0.9rem;
        }

        .param-description {
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .api-navigation {
            background: var(--bg-alt);
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-bottom: 2rem;
        }

        .api-nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .api-nav-item {
            padding: 0.5rem;
            border-radius: var(--radius-sm);
            transition: var(--transition);
        }

        .api-nav-item:hover {
            background: var(--bg-color);
        }

        .api-nav-item a {
            color: var(--text-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .api-nav-item a:hover {
            color: var(--primary-color);
        }

        .inheritance-diagram {
            background: var(--bg-alt);
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin: 2rem 0;
            text-align: center;
        }

        .class-hierarchy {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
        }

        .hierarchy-item {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            padding: 1rem 1.5rem;
            border-radius: var(--radius-md);
            text-align: center;
            box-shadow: var(--shadow-sm);
        }

        .hierarchy-arrow {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin: 0 1rem;
        }

        .dark-theme .api-class, .dark-theme .api-function, .dark-theme .api-method,
        .dark-theme .hierarchy-item {
            background: var(--bg-alt);
            border-color: var(--border-color);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-flask"></i>
                    <span class="logo-text">VectorReVamp</span>
                </div>
                <div class="tagline">Intelligent Test Generation</div>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="installation.html">Installation</a></li>
                    <li><a href="architecture.html">Architecture</a></li>
                    <li><a href="#" class="active">API</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-wrapper">
            <div class="sidebar">
                <nav class="sidebar-nav">
                    <h3>API Reference</h3>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#harness-runner">HarnessRunner</a></li>
                        <li><a href="#template-engine">TemplateEngine</a></li>
                        <li><a href="#quality-validator">QualityValidator</a></li>
                        <li><a href="#parallel-engine">ParallelEngine</a></li>
                        <li><a href="#coverage-optimizer">CoverageOptimizer</a></li>
                        <li><a href="#plugin-system">PluginSystem</a></li>
                        <li><a href="#examples">Usage Examples</a></li>
                    </ul>
                </nav>
            </div>

            <div class="content">
                <div class="page-header">
                    <h1><i class="fas fa-code"></i> API Reference</h1>
                    <p class="lead">Complete API documentation for VectorReVamp's intelligent test generation framework</p>
                </div>

                <section id="overview">
                    <h2><i class="fas fa-book"></i> API Overview</h2>
                    <p>VectorReVamp provides a comprehensive Python API for intelligent test generation. The API is designed to be extensible, configurable, and production-ready.</p>

                    <div class="api-navigation">
                        <h3>API Navigation</h3>
                        <div class="api-nav-grid">
                            <div class="api-nav-item">
                                <a href="#harness-runner">
                                    <i class="fas fa-cog"></i> HarnessRunner
                                </a>
                            </div>
                            <div class="api-nav-item">
                                <a href="#template-engine">
                                    <i class="fas fa-brain"></i> TemplateEngine
                                </a>
                            </div>
                            <div class="api-nav-item">
                                <a href="#quality-validator">
                                    <i class="fas fa-shield-alt"></i> QualityValidator
                                </a>
                            </div>
                            <div class="api-nav-item">
                                <a href="#parallel-engine">
                                    <i class="fas fa-tachometer-alt"></i> ParallelEngine
                                </a>
                            </div>
                            <div class="api-nav-item">
                                <a href="#coverage-optimizer">
                                    <i class="fas fa-search"></i> CoverageOptimizer
                                </a>
                            </div>
                            <div class="api-nav-item">
                                <a href="#plugin-system">
                                    <i class="fas fa-plug"></i> PluginSystem
                                </a>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="harness-runner" class="api-section">
                    <h2><i class="fas fa-cog"></i> HarnessRunner</h2>
                    <p>Main orchestrator class for test generation operations.</p>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class HarnessRunner</h3>
                        </div>

                        <div class="api-signature">
                            HarnessRunner(config: HarnessConfig, plugin_registry: Optional[PluginRegistry] = None)
                        </div>

                        <p>The main entry point for VectorReVamp's test generation capabilities. Coordinates all components and manages the test generation pipeline.</p>

                        <div class="api-method">
                            <h4>generate_test_vectors</h4>
                            <div class="api-signature">
                                generate_test_vectors(target_files: List[Path], output_dir: Optional[Path] = None) -> List[TestVector]
                            </div>

                            <div class="api-params">
                                <h4>Parameters:</h4>
                                <ul class="param-list">
                                    <li class="param-item">
                                        <span class="param-name">target_files</span>
                                        <span class="param-type">List[Path]</span>
                                        <div class="param-description">List of source files to generate tests for</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">output_dir</span>
                                        <span class="param-type">Optional[Path]</span>
                                        <div class="param-description">Directory to save generated tests (default: auto-generated)</div>
                                    </li>
                                </ul>
                            </div>

                            <div class="api-returns">
                                <h4>Returns:</h4>
                                <p>List of generated TestVector objects containing test code and metadata</p>
                            </div>

                            <div class="api-example">
                                <h4>Example:</h4>
                                <div class="code-block">
                                    <pre><code class="language-python">runner = HarnessRunner(config)
vectors = runner.generate_test_vectors([
    Path("my_module.py"),
    Path("another_module.py")
])</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="template-engine" class="api-section">
                    <h2><i class="fas fa-brain"></i> TemplateEngine</h2>
                    <p>Manages test template storage, retrieval, and evolution.</p>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class TemplateEngine</h3>
                        </div>

                        <div class="api-signature">
                            TemplateEngine(config: TemplateConfig)
                        </div>

                        <div class="api-method">
                            <h4>apply_template</h4>
                            <div class="api-signature">
                                apply_template(template: TestTemplate, code_context: CodeContext) -> Optional[GeneratedTest]
                            </div>

                            <div class="api-params">
                                <h4>Parameters:</h4>
                                <ul class="param-list">
                                    <li class="param-item">
                                        <span class="param-name">template</span>
                                        <span class="param-type">TestTemplate</span>
                                        <div class="param-description">Template to apply</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">code_context</span>
                                        <span class="param-type">CodeContext</span>
                                        <div class="param-description">Context information about the code being tested</div>
                                    </li>
                                </ul>
                            </div>

                            <div class="api-example">
                                <h4>Example:</h4>
                                <div class="code-block">
                                    <pre><code class="language-python">engine = TemplateEngine(config)
template = engine.get_template_for_function(function_info)
test = engine.apply_template(template, code_context)</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="quality-validator" class="api-section">
                    <h2><i class="fas fa-shield-alt"></i> QualityValidator</h2>
                    <p>Performs comprehensive quality validation on generated tests.</p>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class QualityValidator</h3>
                        </div>

                        <div class="api-signature">
                            QualityValidator(thresholds: Dict[str, float] = None)
                        </div>

                        <div class="api-method">
                            <h4>validate_test_code</h4>
                            <div class="api-signature">
                                validate_test_code(test_code: str, language: str, framework: str, context: Dict[str, Any]) -> QualityReport
                            </div>

                            <div class="api-params">
                                <h4>Parameters:</h4>
                                <ul class="param-list">
                                    <li class="param-item">
                                        <span class="param-name">test_code</span>
                                        <span class="param-type">str</span>
                                        <div class="param-description">Generated test code to validate</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">language</span>
                                        <span class="param-type">str</span>
                                        <div class="param-description">Programming language (python, c, rust)</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">framework</span>
                                        <span class="param-type">str</span>
                                        <div class="param-description">Testing framework (pytest, unittest, etc.)</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">context</span>
                                        <span class="param-type">Dict[str, Any]</span>
                                        <div class="param-description">Additional context for validation</div>
                                    </li>
                                </ul>
                            </div>

                            <div class="api-returns">
                                <h4>Returns:</h4>
                                <p>QualityReport containing validation results and scores</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="parallel-engine" class="api-section">
                    <h2><i class="fas fa-tachometer-alt"></i> ParallelEngine</h2>
                    <p>Manages parallel test generation with resource awareness.</p>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class ParallelEngine</h3>
                        </div>

                        <div class="api-signature">
                            ParallelEngine(max_workers: int = None, resource_limits: Dict[str, float] = None)
                        </div>

                        <div class="api-method">
                            <h4>run_task</h4>
                            <div class="api-signature">
                                run_task(func: Callable, *args, **kwargs) -> Any
                            </div>

                            <div class="api-params">
                                <h4>Parameters:</h4>
                                <ul class="param-list">
                                    <li class="param-item">
                                        <span class="param-name">func</span>
                                        <span class="param-type">Callable</span>
                                        <div class="param-description">Function to execute in parallel</div>
                                    </li>
                                    <li class="param-item">
                                        <span class="param-name">*args, **kwargs</span>
                                        <span class="param-type">Any</span>
                                        <div class="param-description">Arguments for the function</div>
                                    </li>
                                </ul>
                            </div>

                            <div class="api-example">
                                <h4>Example:</h4>
                                <div class="code-block">
                                    <pre><code class="language-python">engine = ParallelEngine(max_workers=4)
result = engine.run_task(generate_tests_for_file, file_path)</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="coverage-optimizer" class="api-section">
                    <h2><i class="fas fa-search"></i> CoverageOptimizer</h2>
                    <p>Strategic coverage analysis and optimization engine.</p>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class CoverageOptimizer</h3>
                        </div>

                        <div class="api-signature">
                            CoverageOptimizer(config: CoverageConfig)
                        </div>

                        <div class="api-method">
                            <h4>analyze_codebase_strategically</h4>
                            <div class="api-signature">
                                analyze_codebase_strategically(codebase_path: Path) -> CoverageAnalysis
                            </div>

                            <div class="api-params">
                                <h4>Parameters:</h4>
                                <ul class="param-list">
                                    <li class="param-item">
                                        <span class="param-name">codebase_path</span>
                                        <span class="param-type">Path</span>
                                        <div class="param-description">Path to the codebase to analyze</div>
                                    </li>
                                </ul>
                            </div>

                            <div class="api-returns">
                                <h4>Returns:</h4>
                                <p>CoverageAnalysis with strategic insights and recommendations</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="plugin-system" class="api-section">
                    <h2><i class="fas fa-plug"></i> PluginSystem</h2>
                    <p>Extensible plugin architecture for custom intelligence.</p>

                    <div class="inheritance-diagram">
                        <h3>Plugin Architecture</h3>
                        <div class="class-hierarchy">
                            <div class="hierarchy-item">
                                <strong>PluginBase</strong><br>
                                <small>Abstract base class</small>
                            </div>
                            <div class="hierarchy-arrow">→</div>
                            <div class="hierarchy-item">
                                <strong>LanguagePlugin</strong><br>
                                <small>Language-specific features</small>
                            </div>
                            <div class="hierarchy-arrow">→</div>
                            <div class="hierarchy-item">
                                <strong>PythonLanguagePlugin</strong><br>
                                <small>Python-specific implementation</small>
                            </div>
                        </div>
                    </div>

                    <div class="api-class">
                        <div class="api-header">
                            <i class="fas fa-cube api-icon"></i>
                            <h3>class PluginRegistry</h3>
                        </div>

                        <div class="api-method">
                            <h4>register_plugin</h4>
                            <div class="api-signature">
                                register_plugin(plugin: PluginBase) -> None
                            </div>

                            <div class="api-example">
                                <h4>Example:</h4>
                                <div class="code-block">
                                    <pre><code class="language-python">registry = PluginRegistry()
registry.register_plugin(CustomLanguagePlugin())
registry.register_plugin(DomainSpecificPlugin())</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="examples">
                    <h2><i class="fas fa-lightbulb"></i> Usage Examples</h2>

                    <h3>Basic Test Generation</h3>
                    <div class="code-block">
                        <pre><code class="language-python">from vectorrevamp import HarnessRunner, HarnessConfig
import asyncio

# Create configuration
config = HarnessConfig.create_minimal()

# Initialize runner
runner = HarnessRunner(config)

# Generate tests for Python files
test_vectors = runner.generate_test_vectors([
    Path("my_module.py"),
    Path("utils/helpers.py")
])

# Save generated tests
for vector in test_vectors:
    vector.save_to_file()</code></pre>
                    </div>

                    <h3>Advanced Configuration</h3>
                    <div class="code-block">
                        <pre><code class="language-python">from vectorrevamp import (
    HarnessRunner, HarnessConfig, PluginRegistry,
    TemplateEngine, QualityValidator
)

# Advanced configuration
config = HarnessConfig(
    language="python",
    framework="pytest",
    use_templates=True,
    template_quality_threshold=0.8,
    parallel_enabled=True,
    max_workers=8,
    plugin_paths=[Path("./custom_plugins")],
    coverage_targets=["functions", "branches", "lines"],
    quality_checks=["structural", "functional", "syntactic", "coverage"]
)

# Setup with custom plugins
registry = PluginRegistry()
registry.load_plugins(config.plugin_paths)

# Initialize components
runner = HarnessRunner(config, registry)</code></pre>
                    </div>

                    <h3>Plugin Development</h3>
                    <div class="code-block">
                        <pre><code class="language-python">from vectorrevamp.plugin_system import LanguagePlugin

class CustomLanguagePlugin(LanguagePlugin):
    name = "custom_lang"
    extensions = [".cl", ".custom"]

    def analyze_file(self, file_path: Path) -> Dict[str, Any]:
        # Custom file analysis
        with open(file_path, 'r') as f:
            content = f.read()
        return {
            "functions": self._extract_functions(content),
            "classes": self._extract_classes(content),
            "imports": self._extract_imports(content)
        }

    def generate_test_template(self, function_info: Dict[str, Any]) -> str:
        # Generate test template for custom language
        return f"""
def test_{function_info['name']}():
    # Test for {function_info['name']}
    # Add custom language assertions here
    assert true  # Custom language assertion
"""

# Register plugin
registry.register_plugin(CustomLanguagePlugin())</code></pre>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>VectorReVamp</h4>
                <p>Intelligent Test Generation Framework</p>
            </div>
            <div class="footer-section">
                <h4>Documentation</h4>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="installation.html">Installation</a></li>
                    <li><a href="architecture.html">Architecture</a></li>
                    <li><a href="demonstration.html">Live Demo</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 VectorReVamp - Intelligent Test Generation Framework</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../js/prism.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>
